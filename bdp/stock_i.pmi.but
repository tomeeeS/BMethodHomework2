Flag(FileOn("stock_i.pmi.res")) & Set(toto | MaxStocks = {1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000} & cShortages$1: 1..5 +-> BOOL & dom(cShortages$1) = 1..5 & cShortages$1: 1..5 --> BOOL & dom(cShortages$1|>{TRUE}) = Shortages & dom(cShortages$1|>{FALSE}) = (1..5)-Shortages & !xx.(xx: dom(cShortages$1|>{TRUE}) => 0<= -1-CurrentStocks(xx)+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(xx)/2 & CurrentStocks(xx)+1<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(xx)/2) & !xx.(xx: dom(CurrentStocks) & (0<= -1-CurrentStocks(xx)+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(xx)/2 & CurrentStocks(xx)+1<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(xx)/2) => xx: dom(cShortages$1|>{TRUE})) & cCurrentStocks$1 = CurrentStocks & SET(xx).(xx: dom(cCurrentStocks$1) & cCurrentStocks$1(xx)+1<=MaxStocks(xx)/2): POW(dom(cShortages$1|>{TRUE})) & dom(cShortages$1|>{TRUE}): POW(SET(xx).(xx: dom(cCurrentStocks$1) & cCurrentStocks$1(xx)+1<=MaxStocks(xx)/2)) => (dom(cShortages$1|>{TRUE}): POW(SET(xx).(xx: dom(cCurrentStocks$1) & cCurrentStocks$1(xx)+1<=MaxStocks(xx)/2)) & SET(xx).(xx: dom(cCurrentStocks$1) & cCurrentStocks$1(xx)+1<=MaxStocks(xx)/2): POW(dom(cShortages$1|>{TRUE})) => dom(cShortages$1|>{TRUE}) = SET(xx).(xx: dom(cCurrentStocks$1) & cCurrentStocks$1(xx)+1<=MaxStocks(xx)/2)))