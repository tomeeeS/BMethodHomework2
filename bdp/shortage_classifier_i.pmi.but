Flag(FileOn("shortage_classifier_i.pmi.res")) & Set(toto | CurrentStocks: 1..5 +-> 0..4000 & dom(CurrentStocks) = 1..5 & CurrentStocks: 1..5 --> 0..4000 & ii: dom(CurrentStocks) & MaxStocks: 1..5 +-> 0..4000 & dom(MaxStocks) = 1..5 & MaxStocks: 1..5 --> 0..4000 & NewCurrentStock: 0..4000 & !xx.(xx: dom(Shortages|>{TRUE}) => CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom(CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2 => xx: dom(Shortages|>{TRUE})) & NewCurrentStock+1<=MaxStocks(ii)/2 & (!xx.(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2)) & !xx.(xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) => xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2)) & !xx.(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2)) => SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom({ii}<<|Shortages) => (Shortages<+{ii|->TRUE})(xx) = Shortages(xx)) & dom({ii}<<|Shortages|>{TRUE}) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & (NewCurrentStock+1<=MaxStocks(ii)/2 => (Shortages<+{ii|->TRUE})(ii) = TRUE) & (not(NewCurrentStock+1<=MaxStocks(ii)/2) => (Shortages<+{ii|->TRUE})(ii) = FALSE) & dom(Shortages<+{ii|->TRUE}|>{TRUE}) = dom({ii}<<|Shortages|>{TRUE})\/{ii} & Shortages<+{ii|->FALSE} = {ii}<<|Shortages\/{ii|->FALSE} & (Shortages<+{ii|->FALSE} = {ii}<<|Shortages\/{ii|->FALSE} => dom(Shortages<+{ii|->FALSE}|>{TRUE}) = dom({ii}<<|Shortages|>{TRUE})) & SET(xx).(xx: dom({ii}<<|CurrentStocks)\/{ii} & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2)\/SET(xx).(xx: {ii} & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2)) & dom(CurrentStocks) = dom({ii}<<|CurrentStocks)\/{ii} => !xx.(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2)))