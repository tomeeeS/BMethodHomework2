Flag(FileOn("shortage_classifier_i.pmi.res")) & Set(toto | CurrentStocks: 1..5 +-> 0..4000 & dom(CurrentStocks) = 1..5 & CurrentStocks: 1..5 --> 0..4000 & ii: dom(CurrentStocks) & !xx.(xx: dom(Shortages|>{TRUE}) => 0<= -1-CurrentStocks(xx)+MaxStocks(xx)/2 & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom(CurrentStocks) & (0<= -1-CurrentStocks(xx)+MaxStocks(xx)/2 & CurrentStocks(xx)+1<=MaxStocks(xx)/2) => xx: dom(Shortages|>{TRUE})) & dom(Shortages|>{TRUE}) = SET(xx).(xx: dom(CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & dom(CurrentStocks) = dom(CurrentStocks<+{ii|->NewCurrentStock}) & dom({ii}<<|Shortages|>{TRUE}) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2)) & dom(CurrentStocks<+{ii|->NewCurrentStock}) = dom({ii}<<|CurrentStocks)\/dom({ii|->NewCurrentStock}) & SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom({ii}<<|CurrentStocks)\/dom({ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: dom(CurrentStocks<+{ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom(CurrentStocks<+{ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: dom({ii}<<|CurrentStocks)\/dom({ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) & xx: SET(xx).(xx: dom(CurrentStocks) & not(xx = ii) & (0<= -1-(CurrentStocks<+{ii|->NewCurrentStock})(xx)+MaxStocks(xx)/2 & 0<= -1-(CurrentStocks<+{ii|->NewCurrentStock})(xx)+MaxStocks(xx)/2))\/SET(xx).(xx = ii & (0<= -1-(CurrentStocks<+{ii|->NewCurrentStock})(xx)+MaxStocks(xx)/2 & 0<= -1-(CurrentStocks<+{ii|->NewCurrentStock})(xx)+MaxStocks(xx)/2)) & CurrentStocks: 1..5 <-> 0..4000 & dom(CurrentStocks): POW(1..5) & ran(CurrentStocks): POW(0..4000) & dom(CurrentStocks<+{ii|->NewCurrentStock}): POW(1..5) & dom({ii}<<|CurrentStocks)\/dom({ii|->NewCurrentStock}): POW(1..5) & dom({ii}<<|CurrentStocks): POW(1..5) & not(xx = ii) & not(ii = xx) & dom(CurrentStocks)-{ii}: POW(1..5) => xx: dom(CurrentStocks))