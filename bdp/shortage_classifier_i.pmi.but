Flag(FileOn("shortage_classifier_i.pmi.res")) & Set(toto | CurrentStocks: 1..5 +-> 0..4000 & dom(CurrentStocks) = 1..5 & CurrentStocks: 1..5 --> 0..4000 & ii: dom(CurrentStocks) & MaxStocks: 1..5 +-> 0..4000 & dom(MaxStocks) = 1..5 & MaxStocks: 1..5 --> 0..4000 & Shortages: 1..5 +-> BOOL & dom(Shortages) = 1..5 & Shortages: 1..5 --> BOOL & NewCurrentStock: 0..4000 & !xx.(xx: dom(Shortages|>{TRUE}) => CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom(CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2 => xx: dom(Shortages|>{TRUE})) & dom(Shortages|>{TRUE}) = SET(xx).(xx: dom(CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & NewCurrentStock+1<=MaxStocks(ii)/2 & dom(CurrentStocks) = dom(CurrentStocks<+{ii|->NewCurrentStock}) & dom({ii}<<|Shortages|>{TRUE}) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & !xx.(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2 => xx: SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2)) & dom(CurrentStocks<+{ii|->NewCurrentStock}) = dom({ii}<<|CurrentStocks)\/dom({ii|->NewCurrentStock}) & !xx.(xx: dom({ii}<<|Shortages) => (Shortages<+{ii|->TRUE})(xx) = Shortages(xx)) & (NewCurrentStock+1<=MaxStocks(ii)/2 => (Shortages<+{ii|->TRUE})(ii) = TRUE) & (not(NewCurrentStock+1<=MaxStocks(ii)/2) => (Shortages<+{ii|->TRUE})(ii) = FALSE) & dom(Shortages<+{ii|->TRUE}|>{TRUE}) = dom({ii}<<|Shortages|>{TRUE})\/dom({ii|->(Shortages<+{ii|->TRUE})(ii)}|>{TRUE}) & Shortages<+{ii|->FALSE} = {ii}<<|Shortages\/{ii|->FALSE} & dom({ii}<<|Shortages|>{TRUE}): POW(dom(Shortages|>{TRUE})) & SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & CurrentStocks(xx)+1<=MaxStocks(xx)/2) & dom(Shortages<+{ii|->FALSE}|>{TRUE}) = dom({ii}<<|Shortages|>{TRUE}) & SET(xx).(xx: dom(CurrentStocks<+{ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = SET(xx).(xx: dom({ii}<<|CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2)\/SET(xx).(xx: dom({ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) & SET(xx).(xx: dom({ii|->NewCurrentStock}) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2) = dom({ii|->(Shortages<+{ii|->TRUE})(ii)}|>{TRUE}) => dom(Shortages<+{ii|->TRUE}|>{TRUE}) = SET(xx).(xx: dom(CurrentStocks) & (CurrentStocks<+{ii|->NewCurrentStock})(xx)+1<=MaxStocks(xx)/2))