Flag(FileOn("stock.pmi.res")) & Set(toto | ii: Shortages & Shortages: FIN({1}\/{2}\/{3}\/{4}\/{5}) & !ii.(ii: Shortages => 0<= -1-CurrentStocks(ii)+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2 & CurrentStocks(ii)+1<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2) & !ii.(ii: dom(CurrentStocks) & (0<= -1-CurrentStocks(ii)+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2 & CurrentStocks(ii)+1<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2) => ii: Shortages) & !ii.(ii: dom(CurrentStocks)-Shortages => ({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2<=CurrentStocks(ii) & ({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)/2<=CurrentStocks(ii)) & ii: dom(CurrentStocks) & CurrentStocks(ii)+amt: 0..4000 & 0<= -CurrentStocks(ii)+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)-amt & CurrentStocks(ii)+amt<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii) & ({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)-(CurrentStocks(ii)+amt): 0..4000 & CurrentStocks(ii): 0..({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii) & 0<=CurrentStocks(ii)+amt & 0<=4000-CurrentStocks(ii)-amt & CurrentStocks(ii)+amt<=4000 & 0<= -CurrentStocks(ii)-amt+({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii) & 0<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)-(CurrentStocks(ii)+amt) & 0<=4000+CurrentStocks(ii)+amt-({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii) & ({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii)-(CurrentStocks(ii)+amt)<=4000 & 0<=CurrentStocks(ii) & CurrentStocks(ii)<=({1|->1000}\/{2|->2000}\/{3|->500}\/{4|->125}\/{5|->4000})(ii) & ii: Shortages & MaxStocks(ii)/2<=CurrentStocks(ii)+amt & ii$1: dom(CurrentStocks<+{ii|->CurrentStocks(ii)+amt}) & (CurrentStocks<+{ii|->CurrentStocks(ii)+amt})(ii$1)+1<=MaxStocks(ii$1)/2 => ii$1: Shortages-{ii})